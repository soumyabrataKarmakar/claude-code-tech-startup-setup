{
  "master_chatbot_test_scenarios": {
    "emergency_escalation_tests": [
      {
        "test_id": "emergency_001",
        "test_name": "Critical Cardiac Emergency",
        "description": "Test emergency escalation for cardiac symptoms",
        "input": {
          "patient_id": "test-patient-001",
          "session_id": "test-session-001", 
          "message": "I'm having severe crushing chest pain radiating to my left arm and I can't breathe properly",
          "headers": {
            "authorization": "Bearer test-token-123"
          }
        },
        "expected_output": {
          "intent": "EMERGENCY",
          "urgency": "CRITICAL",
          "workflow_triggered": "emergency-escalation",
          "requires_human_oversight": true,
          "response_time_sla": "< 30 seconds"
        },
        "validation_points": [
          "Claude correctly classifies as EMERGENCY intent",
          "Emergency escalation workflow is triggered",
          "Audit log contains HIPAA-compliant entry",
          "Memory MCP stores conversation context"
        ]
      },
      {
        "test_id": "emergency_002", 
        "test_name": "Respiratory Emergency",
        "description": "Test emergency routing for breathing difficulties",
        "input": {
          "patient_id": "test-patient-002",
          "session_id": "test-session-002",
          "message": "I can't breathe and my lips are turning blue",
          "headers": {
            "authorization": "Bearer test-token-456"
          }
        },
        "expected_output": {
          "intent": "EMERGENCY",
          "urgency": "CRITICAL", 
          "workflow_triggered": "emergency-escalation",
          "emergency_indicators": ["can't breathe", "blue lips"]
        }
      }
    ],
    "patient_intake_tests": [
      {
        "test_id": "intake_001",
        "test_name": "Routine Appointment Scheduling", 
        "description": "Test patient intake for appointment requests",
        "input": {
          "patient_id": "test-patient-003",
          "session_id": "test-session-003",
          "message": "I'd like to schedule a follow-up appointment for my diabetes management next week",
          "provider_id": "dr-smith-789",
          "headers": {
            "authorization": "Bearer test-token-789"
          }
        },
        "expected_output": {
          "intent": "INTAKE",
          "urgency": "LOW",
          "workflow_triggered": "patient-intake",
          "intake_type": "chatbot_initiated"
        },
        "validation_points": [
          "Patient intake workflow receives correct parameters",
          "Session ID is properly passed through",
          "Provider context is included when available"
        ]
      }
    ],
    "clinical_decision_tests": [
      {
        "test_id": "clinical_001",
        "test_name": "Treatment Options Query",
        "description": "Test clinical decision support for treatment questions",
        "input": {
          "patient_id": "test-patient-004", 
          "session_id": "test-session-004",
          "message": "What are the latest treatment options for managing type 2 diabetes with my current medications?",
          "headers": {
            "authorization": "Bearer test-token-012"
          }
        },
        "expected_output": {
          "intent": "CLINICAL_ASSESSMENT",
          "urgency": "MEDIUM",
          "workflow_triggered": "clinical-decision-support",
          "requires_oversight": true
        },
        "validation_points": [
          "Clinical query is properly formatted",
          "Urgency level is assessed correctly",
          "Human oversight flag is considered"
        ]
      }
    ],
    "context_management_tests": [
      {
        "test_id": "context_001",
        "test_name": "Patient History Request",
        "description": "Test patient context retrieval",
        "input": {
          "patient_id": "test-patient-005",
          "session_id": "test-session-005", 
          "message": "Can you show me my recent lab results and medication history?",
          "headers": {
            "authorization": "Bearer test-token-345"
          }
        },
        "expected_output": {
          "intent": "CONTEXT_REQUEST",
          "urgency": "LOW",
          "workflow_triggered": "patient-context",
          "request_type": "chatbot_query"
        }
      }
    ],
    "provider_integration_tests": [
      {
        "test_id": "provider_001",
        "test_name": "Provider Communication",
        "description": "Test provider integration workflow", 
        "input": {
          "patient_id": "test-patient-006",
          "session_id": "test-session-006",
          "message": "Please send my recent symptoms to Dr. Johnson and request a callback",
          "provider_id": "dr-johnson-456",
          "headers": {
            "authorization": "Bearer test-token-678"
          }
        },
        "expected_output": {
          "intent": "PROVIDER_INTEGRATION",
          "urgency": "MEDIUM", 
          "workflow_triggered": "provider-integration",
          "provider_context": "dr-johnson-456"
        }
      }
    ],
    "multimodal_interface_tests": [
      {
        "test_id": "multimodal_001",
        "test_name": "Voice Input Processing",
        "description": "Test multi-modal interface for voice input",
        "input": {
          "patient_id": "test-patient-007",
          "session_id": "test-session-007",
          "message": "I have a skin rash I'd like to show you",
          "input_type": "voice_plus_image",
          "accessibility_preferences": {"screen_reader": true},
          "headers": {
            "authorization": "Bearer test-token-901"
          }
        },
        "expected_output": {
          "intent": "MULTI_MODAL",
          "urgency": "LOW",
          "workflow_triggered": "multi-modal-interface",
          "modality": "voice_plus_image"
        }
      }
    ],
    "general_health_tests": [
      {
        "test_id": "general_001", 
        "test_name": "General Health Information",
        "description": "Test general health assistant for information requests",
        "input": {
          "patient_id": "test-patient-008",
          "session_id": "test-session-008",
          "message": "What are some tips for maintaining good heart health?",
          "headers": {
            "authorization": "Bearer test-token-234"
          }
        },
        "expected_output": {
          "intent": "GENERAL_HEALTH",
          "urgency": "LOW",
          "workflow_triggered": "general-health-claude",
          "requires_human_oversight": false
        }
      }
    ],
    "error_handling_tests": [
      {
        "test_id": "error_001",
        "test_name": "Missing Authentication",
        "description": "Test authentication failure handling",
        "input": {
          "patient_id": "test-patient-009",
          "session_id": "test-session-009",
          "message": "I need help with my medication",
          "headers": {}
        },
        "expected_output": {
          "error": true,
          "fallback_triggered": true,
          "status": "error",
          "recommended_action": "contact_provider"
        }
      },
      {
        "test_id": "error_002",
        "test_name": "Workflow Timeout",
        "description": "Test workflow timeout handling",
        "input": {
          "patient_id": "test-patient-010", 
          "session_id": "test-session-010",
          "message": "Complex clinical query that might timeout",
          "simulate_timeout": true,
          "headers": {
            "authorization": "Bearer test-token-567"
          }
        },
        "expected_output": {
          "error": true,
          "fallback_triggered": true,
          "retry_attempted": true
        }
      }
    ],
    "integration_validation_tests": [
      {
        "test_id": "integration_001",
        "test_name": "End-to-End Flow Validation", 
        "description": "Test complete flow from input to response",
        "input": {
          "patient_id": "test-patient-011",
          "session_id": "test-session-011",
          "message": "I'm having moderate chest discomfort after exercise",
          "headers": {
            "authorization": "Bearer test-token-890"
          }
        },
        "validation_steps": [
          "Authentication validator passes",
          "Conversation state initialized",
          "Memory MCP creates conversation entity",
          "Claude intent classifier analyzes message",
          "Appropriate workflow is triggered",
          "Human oversight router evaluates need",
          "Response synthesizer generates final response",
          "Memory MCP updates conversation context",
          "HIPAA audit log is created",
          "Final response is returned to client"
        ],
        "expected_output": {
          "response_generated": true,
          "hipaa_compliant": true,
          "audit_logged": true,
          "memory_updated": true
        }
      }
    ]
  },
  "performance_benchmarks": {
    "response_time_sla": {
      "emergency": "< 30 seconds",
      "urgent": "< 60 seconds", 
      "routine": "< 120 seconds"
    },
    "availability_targets": {
      "uptime": "99.9%",
      "max_downtime_per_month": "43.2 minutes"
    },
    "throughput_requirements": {
      "concurrent_sessions": 100,
      "requests_per_minute": 1000
    }
  },
  "security_compliance_tests": [
    {
      "test_id": "security_001",
      "test_name": "HIPAA PHI Protection",
      "description": "Verify PHI is properly protected in logs",
      "validation_points": [
        "Patient IDs are hashed in audit logs",
        "Medical information is not logged in plain text",
        "Access is properly authenticated",
        "Data retention policies are enforced"
      ]
    },
    {
      "test_id": "security_002", 
      "test_name": "API Security Validation",
      "description": "Test API security measures",
      "validation_points": [
        "Authentication tokens are validated",
        "Rate limiting is enforced",
        "Input sanitization prevents injection",
        "HTTPS is enforced for all communications"
      ]
    }
  ]
}